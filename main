import time
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from bs4 import BeautifulSoup


PATH = "D:\chromedriver.exe"
driver = webdriver.Chrome(PATH)

bin = []

driver.get("https://www.dmi.dk/lokation/show/DK/2614515/R%C3%B8rvig/")

biggest = 0

try:
    element = WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, "declineButton")))
    element.click()
    print("licked")

except:
    driver.quit()
    print("fejl 1")


htmlElem = driver.find_element(By.TAG_NAME, "body")
htmlElem.send_keys(Keys.PAGE_DOWN)
htmlElem.send_keys(Keys.PAGE_DOWN)
htmlElem.send_keys(Keys.PAGE_DOWN)
htmlElem.send_keys(Keys.PAGE_DOWN)

time.sleep(1)

try:
    element = WebDriverWait(driver, 10).until(EC.visibility_of_element_located((By.ID, "showTable")))
    element.click()
    print("clicked 2")

except:
    print("fejl 2")
    driver.quit()


try:
    for x in range(9, 72,):
        start = (WebDriverWait(driver, 10).until(EC.visibility_of_element_located((By.XPATH, f"/html[1]/body[1]/main[1]/section[1]/div[2]/div[1]/div[2]/div[1]/div[1]/div[2]/div[2]/div[4]/div[{x}]"))).text)
        slut = start[7:]
        bin.append(slut)
        if int(slut) >= biggest:
            biggest = int(slut)


except:
    print("fejl 3")
    driver.quit()

driver.quit()

print(bin)
print(f"inden for de nÃ¦ste par timer er den hÃ¸jeste vandstand:  {biggest}")




